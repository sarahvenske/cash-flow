<!doctype html>
<html>
  <head>
    <title>Financial Rewind</title>
    <link rel="stylesheet" href="/css/output.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <div id="container">
      <section
        class="slide h-screen w-screen bg-[conic-gradient(at_top_right,_var(--tw-gradient-stops))] from-pink-300 via-purple-300 to-indigo-400 flex justify-center hidden"
      >
        <div class="flex flex-col justify-center">
          <h2
            class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl"
          >
            Hello John!<br />We've prepared a surprise for you.
          </h2>
          <h3 class="text-xl font-bold tracking-tight text-gray-500 sm:text-xl">
            Here's a rewind of your las year's transactions. Wanna see it?
          </h3>
          <div class="mt-10 flex items-center gap-x-6 lg:mt-0 lg:flex-shrink-0">
            <a 
              href="#"
              class="rounded-md bg-indigo-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
              >Get started</a
            >
          </div>
        </div>
      </section>
      <!-- INSIGHT 1: TOP 5 CATEGORIES SPENT -->
      <section class="slide hidden">
        <h1>Top Spent Categories</h1>

        <canvas id="myChart"></canvas>
        <ul>
          <% topSpentCategories.forEach(category => { %>
          <li><%= category.category_name %>: <%= category.total_spent %></li>
          <% }); %>
        </ul>
      </section>
      <!-- INSIGHT 2: LOWEST CATEGORY SPENT -->
      <section class="slide hidden">
        <h1>Category with the Lowest Spending</h1>
        <% if (lowestSpentCategory) { %>
        <p>
          <strong>Category Name:</strong> <%= lowestSpentCategory.category_name
          %>
        </p>
        <p>
          <strong>Total Spent:</strong> $<%= lowestSpentCategory.total_spent %>
        </p>
        <% } else { %>
        <p>No categories found.</p>
        <% } %>
      </section class="slide hidden">
      <!-- INSIGHT 3: MOST USED METHOD -->
      <section class="slide hidden">
        <h1>Most Used Method</h1>
        <% if (mostUsedMethod) { %>
        <p><strong>Method Name:</strong> <%= mostUsedMethod.method_name %></p>
        <p><strong>Times Used:</strong> $<%= mostUsedMethod.method_count %></p>
        <% } else { %>
        <p>No methods found.</p>
        <% } %>
      </section>
      <!-- INSIGHT 4: LESS USED METHOD -->
      <section class="slide hidden">
        <h1>Less Used Method</h1>
        <% if (lessUsedMethod) { %>
        <p><strong>Method Name:</strong> <%= lessUsedMethod.method_name %></p>
        <p><strong>Times Used:</strong> $<%= lessUsedMethod.method_count %></p>
        <% } else { %>
        <p>No methods found.</p>
        <% } %>
      </section>
      <!-- INSIGHT 5: TOTAL SPENT -->
      <section class="slide hidden">
        <h1>Total Spent (excluding Income): <%= totalSpent %></h1>
      </section>
      <!-- INSIGHT 6: TOTAL INCOME -->
      <section class="slide hidden">
        <h1>Total Income: <%= totalIncome %></h1>
      </section>
      <!-- INSIGHT 7: TOTAL INVESTMENT -->
      <section class="slide hidden">
        <h1>Total Investment: <%= totalInvestment %></h1>
      </section>
    </div>
    <div>
      <button class="btnPrevious">Anterior</button>
      <button class="btnNext">Pr√≥ximo</button>
    </div>
    <script src="/javascript/app.js"></script>
  </body>
</html>
